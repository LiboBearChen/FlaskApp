{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
<link rel="stylesheet" href="{{url_for('static',filename='css/posts.css')}}">

{% endblock %}


{% block body %}
<br>
<h1 style="display: inline">Coding Digest</h1>
<a class="btn btn-success float-right" href="/posts/new">+ New Post</a>
<br>
<hr>
{% for post in posts %}
<br>
<h2>{{post.title}}</h2>
{% if post.author %}
<small>Written by {{post.author}} on {{post.date_posted}}</small>
{% else %}
<small>Written by Unknown on {{post.date_posted}}</small>
{% endif %}
{% if post.author %}
<small><a href="{{post.link}}" target="_blank">Web Link</a></small>
{% endif %}
<br>
<br>
<p style="white-space: pre-wrap"> {{post.content}}</p>
<br>
<a class="btn btn-danger" href="/posts/delete/{{post.id}}">Delete</a>
<a class="btn btn-primary" href="/posts/edit/{{post.id}}">Edit</a>
<hr>
{% endfor %}
{% endblock %}

{% block bodyScript %}
<script > let posts ='{{ posts }}'</script>
<script src="{{url_for('static',filename='js/posts.js')}}"></script>
{% endblock %}